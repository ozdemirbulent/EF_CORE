@model List<Message>
@{
    ViewData["Title"] = "MessageList";
    Layout = "~/Views/Layout/Index.cshtml";
    int count = 0;
}

<div class="row">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card shadow-lg rounded-3 border-0">
            <div class="card-body">
                <h3 class="card-title text-center mb-4 fw-bold text-primary">📩 Mesaj Listesi</h3>
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-dark text-center">
                            <tr>
                                <th>#</th>
                                <th>Gönderen</th>
                                <th>Konu</th>
                                <th>Durum</th>
                                <th>Tarih</th>
                                <th>Sil</th>
                                <th>Güncelle</th>
                                <th>Mesajı Aç</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                count++;
                                <tr class="text-center">
                                    <th>@count</th>
                                    <td class="fw-bold">@item.SenderNameSurname</td>
                                    <td>@item.MessageTittle</td>
                                    <td>
                                        @if (item.IsRead == true)
                                        {
                                            <span class="badge bg-success">Okundu</span>
                                        }
                                        else
                                        {
                                            <span class="badge bg-warning text-dark">Okunmadı</span>
                                        }
                                    </td>
                                    <td>@item.Datetime.ToString("dd MMM yyyy HH:mm")</td>
                                    <td>
                                        <a href="/Message/DeleteMessage/@item.MessageId"
                                           onclick="return confirm('Bu öğeyi silmek istediğinize emin misiniz?');"
                                           class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/Message/UpdateMessage/@item.MessageId"
                                           class="btn btn-sm btn-outline-info">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/Message/MessageDetail/@item.MessageId"
                                           class="btn btn-sm btn-outline-warning">
                                            <i class="fas fa-envelope-open-text"></i>
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 15px;
        transition: all 0.3s ease;
    }

        .card:hover {
            transform: scale(1.01);
            box-shadow: 0px 5px 25px rgba(0,0,0,0.1);
        }

    table th, table td {
        vertical-align: middle !important;
    }

    tbody tr:hover {
        background-color: #f1f8ff !important;
        transform: scale(1.01);
        transition: all 0.2s ease-in-out;
    }

    .btn {
        transition: all 0.3s ease;
    }

        .btn:hover {
            transform: scale(1.1);
        }
</style>
